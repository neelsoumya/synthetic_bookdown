<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Generating data using simstudy methods | dsSynthetic: A DataSHIELD package to generate synthetic data</title>
  <meta name="description" content="The purpose of this book is to help the reader use dsSynthetic to help with data harmonisation and analysis when working on federated data sets with DataSHIELD" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Generating data using simstudy methods | dsSynthetic: A DataSHIELD package to generate synthetic data" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="The purpose of this book is to help the reader use dsSynthetic to help with data harmonisation and analysis when working on federated data sets with DataSHIELD" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Generating data using simstudy methods | dsSynthetic: A DataSHIELD package to generate synthetic data" />
  
  <meta name="twitter:description" content="The purpose of this book is to help the reader use dsSynthetic to help with data harmonisation and analysis when working on federated data sets with DataSHIELD" />
  

<meta name="author" content="Tom Bishop, Soumya Banerjee" />


<meta name="date" content="2021-08-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="synthpop.html"/>
<link rel="next" href="harmonisation-with-synthetic-data.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">dsSynthetic: Synthetic data generation with DataSHIELD</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#assumptions"><i class="fa fa-check"></i><b>2.1</b> Assumptions</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#motivation"><i class="fa fa-check"></i><b>2.2</b> Motivation</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#hypothesis-for-using-synthetic-data"><i class="fa fa-check"></i><b>2.3</b> Hypothesis for using synthetic data</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#overview-of-steps"><i class="fa fa-check"></i><b>2.4</b> Overview of steps</a></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#prerequisites-1"><i class="fa fa-check"></i><b>2.5</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="synthpop.html"><a href="synthpop.html"><i class="fa fa-check"></i><b>3</b> Generating data using synthpop methods</a></li>
<li class="chapter" data-level="4" data-path="generating-data-using-simstudy-methods.html"><a href="generating-data-using-simstudy-methods.html"><i class="fa fa-check"></i><b>4</b> Generating data using simstudy methods</a></li>
<li class="chapter" data-level="5" data-path="harmonisation-with-synthetic-data.html"><a href="harmonisation-with-synthetic-data.html"><i class="fa fa-check"></i><b>5</b> Harmonisation with synthetic data</a><ul>
<li class="chapter" data-level="5.1" data-path="harmonisation-with-synthetic-data.html"><a href="harmonisation-with-synthetic-data.html#getting-set-up"><i class="fa fa-check"></i><b>5.1</b> Getting set up</a></li>
<li class="chapter" data-level="5.2" data-path="harmonisation-with-synthetic-data.html"><a href="harmonisation-with-synthetic-data.html#do-the-work"><i class="fa fa-check"></i><b>5.2</b> Do the work</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="analysis-with-synthetic-data.html"><a href="analysis-with-synthetic-data.html"><i class="fa fa-check"></i><b>6</b> Analysis with synthetic data</a><ul>
<li class="chapter" data-level="6.1" data-path="analysis-with-synthetic-data.html"><a href="analysis-with-synthetic-data.html#getting-set-up-1"><i class="fa fa-check"></i><b>6.1</b> Getting set up</a></li>
<li class="chapter" data-level="6.2" data-path="analysis-with-synthetic-data.html"><a href="analysis-with-synthetic-data.html#create-synthetic-dataset"><i class="fa fa-check"></i><b>6.2</b> Create synthetic dataset</a></li>
<li class="chapter" data-level="6.3" data-path="analysis-with-synthetic-data.html"><a href="analysis-with-synthetic-data.html#start-dslite-local-instance"><i class="fa fa-check"></i><b>6.3</b> Start DSLite local instance</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">dsSynthetic: A DataSHIELD package to generate synthetic data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="generating-data-using-simstudy-methods" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Generating data using simstudy methods</h1>
<p>In this chapter we will look at how to generate synthetic data on the client side using DataSHIELD functions to extract summary characteristics of the data set from the server side.</p>
<p>Again we need to build a login object for the server that holds the data:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="generating-data-using-simstudy-methods.html#cb20-1"></a>builder &lt;-<span class="st"> </span>DSI<span class="op">::</span><span class="kw">newDSLoginBuilder</span>()</span>
<span id="cb20-2"><a href="generating-data-using-simstudy-methods.html#cb20-2"></a><span class="co"># hide credentials</span></span>
<span id="cb20-3"><a href="generating-data-using-simstudy-methods.html#cb20-3"></a>builder<span class="op">$</span><span class="kw">append</span>(<span class="dt">server=</span><span class="st">&quot;server1&quot;</span>, <span class="dt">url=</span><span class="st">&quot;https://opal-sandbox.mrc-epid.cam.ac.uk&quot;</span>,</span>
<span id="cb20-4"><a href="generating-data-using-simstudy-methods.html#cb20-4"></a>               <span class="dt">user=</span><span class="st">&quot;dsuser&quot;</span>, <span class="dt">password=</span><span class="st">&quot;password&quot;</span>, </span>
<span id="cb20-5"><a href="generating-data-using-simstudy-methods.html#cb20-5"></a>               <span class="dt">table =</span> <span class="st">&quot;DASIM.DASIM1&quot;</span>)</span>
<span id="cb20-6"><a href="generating-data-using-simstudy-methods.html#cb20-6"></a>logindata &lt;-<span class="st"> </span>builder<span class="op">$</span><span class="kw">build</span>()</span></code></pre></div>
<p>And then we establish a connection to the server:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="generating-data-using-simstudy-methods.html#cb21-1"></a><span class="kw">library</span>(DSOpal)</span>
<span id="cb21-2"><a href="generating-data-using-simstudy-methods.html#cb21-2"></a><span class="cf">if</span>(<span class="kw">exists</span>(<span class="st">&quot;connections&quot;</span>)){</span>
<span id="cb21-3"><a href="generating-data-using-simstudy-methods.html#cb21-3"></a>  <span class="kw">datashield.logout</span>(<span class="dt">conns =</span> connections)</span>
<span id="cb21-4"><a href="generating-data-using-simstudy-methods.html#cb21-4"></a>}</span>
<span id="cb21-5"><a href="generating-data-using-simstudy-methods.html#cb21-5"></a>connections &lt;-<span class="st"> </span><span class="kw">datashield.login</span>(<span class="dt">logins=</span>logindata, <span class="dt">assign =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## 
## Logging into the collaborating servers</code></pre>
<pre><code>## 
##   No variables have been specified. 
##   All the variables in the table 
##   (the whole dataset) will be assigned to R!</code></pre>
<pre><code>## 
## Assigning table data...</code></pre>
<p>This method builds on the fundamentals of the <strong>simstudy</strong> package. There is a good introduction to this package <a href="https://kgoldfeld.github.io/simstudy/index.html">here</a>.</p>
<p>First we load the library</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="generating-data-using-simstudy-methods.html#cb25-1"></a><span class="kw">library</span>(<span class="st">&quot;simstudy&quot;</span>)</span>
<span id="cb25-2"><a href="generating-data-using-simstudy-methods.html#cb25-2"></a><span class="kw">library</span>(<span class="st">&quot;dsBaseClient&quot;</span>)</span></code></pre></div>
<p>Then we can extract some parameters from the real data using DataSHIELD commands and use these to generate our synthetic data.</p>
<p>We first need some preparatory steps. Binary factor variables are converted to numeric to allow calculation of the probability of 0/1. We remove the factor variables from the data frame, and re-add them after conversion to numeric. Note that if categorical variables are in the data set, they will need to broken down into binary dummy variables before they can be used.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="generating-data-using-simstudy-methods.html#cb26-1"></a>cont_vars =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;LAB_TSC&quot;</span>, <span class="st">&quot;LAB_TRIG&quot;</span>, <span class="st">&quot;LAB_HDL&quot;</span>, <span class="st">&quot;LAB_GLUC_FASTING&quot;</span>, <span class="st">&quot;PM_BMI_CONTINUOUS&quot;</span>)</span>
<span id="cb26-2"><a href="generating-data-using-simstudy-methods.html#cb26-2"></a><span class="kw">ds.subset</span>(<span class="dt">x=</span><span class="st">&#39;D&#39;</span>, <span class="dt">subset=</span><span class="st">&#39;subD2&#39;</span>, <span class="dt">cols=</span>cont_vars)</span>
<span id="cb26-3"><a href="generating-data-using-simstudy-methods.html#cb26-3"></a>factor_vars =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;DIS_CVA&quot;</span>, <span class="st">&quot;DIS_DIAB&quot;</span>, <span class="st">&quot;DIS_AMI&quot;</span>)</span>
<span id="cb26-4"><a href="generating-data-using-simstudy-methods.html#cb26-4"></a><span class="cf">for</span>(var <span class="cf">in</span> factor_vars){</span>
<span id="cb26-5"><a href="generating-data-using-simstudy-methods.html#cb26-5"></a>  <span class="kw">ds.asNumeric</span>(<span class="kw">paste0</span>(<span class="st">&quot;D$&quot;</span>,var), <span class="dt">newobj =</span> <span class="kw">paste0</span>(var,<span class="st">&quot;_num&quot;</span>), <span class="dt">datasources =</span> connections)</span>
<span id="cb26-6"><a href="generating-data-using-simstudy-methods.html#cb26-6"></a>  <span class="kw">ds.dataFrame</span>(<span class="dt">x=</span><span class="kw">c</span>(<span class="st">&quot;subD2&quot;</span>, <span class="kw">paste0</span>(var,<span class="st">&quot;_num&quot;</span>)), <span class="dt">newobj =</span> <span class="st">&quot;subD2&quot;</span>)</span>
<span id="cb26-7"><a href="generating-data-using-simstudy-methods.html#cb26-7"></a>}</span>
<span id="cb26-8"><a href="generating-data-using-simstudy-methods.html#cb26-8"></a></span>
<span id="cb26-9"><a href="generating-data-using-simstudy-methods.html#cb26-9"></a>Dnames =<span class="st"> </span><span class="kw">ds.colnames</span>(<span class="st">&quot;subD2&quot;</span>)<span class="op">$</span>server1</span></code></pre></div>
<p>Now we use <code>ds.cor()</code> to generate a correlation matrix. Similarly, <code>ds.mean()</code> and <code>ds.var()</code> are used to obtain the means and variances:</p>
<p><strong>TO DO the previous part and this part can be rolled up and done with a helper function like we already prototyped for gcipdr. That is, you pass in the name of a dataframe (or a dataframe and a list of columns?) and it automatically does the categorical -&gt; binary -&gt; numeric, gets the corr matrix, means and vars, and generates the data set, recombines the binaries into categorical where applicable</strong></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="generating-data-using-simstudy-methods.html#cb27-1"></a>corrs =<span class="st"> </span><span class="kw">ds.cor</span>(<span class="dt">x=</span><span class="st">&quot;subD2&quot;</span>, <span class="dt">datasources =</span> connections)[[<span class="dv">1</span>]]<span class="op">$</span><span class="st">`</span><span class="dt">Correlation Matrix</span><span class="st">`</span></span>
<span id="cb27-2"><a href="generating-data-using-simstudy-methods.html#cb27-2"></a></span>
<span id="cb27-3"><a href="generating-data-using-simstudy-methods.html#cb27-3"></a><span class="kw">colnames</span>(corrs) &lt;-<span class="st"> </span>Dnames</span>
<span id="cb27-4"><a href="generating-data-using-simstudy-methods.html#cb27-4"></a><span class="kw">rownames</span>(corrs) &lt;-<span class="st"> </span>Dnames</span>
<span id="cb27-5"><a href="generating-data-using-simstudy-methods.html#cb27-5"></a></span>
<span id="cb27-6"><a href="generating-data-using-simstudy-methods.html#cb27-6"></a>means =<span class="st"> </span><span class="kw">numeric</span>()</span>
<span id="cb27-7"><a href="generating-data-using-simstudy-methods.html#cb27-7"></a>vars =<span class="st"> </span><span class="kw">numeric</span>()</span>
<span id="cb27-8"><a href="generating-data-using-simstudy-methods.html#cb27-8"></a><span class="cf">for</span> (var <span class="cf">in</span> Dnames){</span>
<span id="cb27-9"><a href="generating-data-using-simstudy-methods.html#cb27-9"></a>  means =<span class="st"> </span><span class="kw">c</span>(means, <span class="kw">ds.mean</span>(<span class="kw">paste0</span>(<span class="st">&quot;subD2$&quot;</span>,var), <span class="dt">datasources =</span> connections)<span class="op">$</span>Mean.by.Study[<span class="dv">1</span>])</span>
<span id="cb27-10"><a href="generating-data-using-simstudy-methods.html#cb27-10"></a>  vars =<span class="st"> </span><span class="kw">c</span>(vars, <span class="kw">ds.var</span>(<span class="kw">paste0</span>(<span class="st">&quot;subD2$&quot;</span>,var), <span class="dt">datasources =</span> connections)<span class="op">$</span>Variance.by.Study[<span class="dv">1</span>])</span>
<span id="cb27-11"><a href="generating-data-using-simstudy-methods.html#cb27-11"></a>}</span></code></pre></div>
<p>Once we have the summary information, we use it to build a <strong>simstudy</strong> definition table. This is then used to generate the synthetic data.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="generating-data-using-simstudy-methods.html#cb28-1"></a>def &lt;-<span class="st"> </span><span class="kw">defData</span>(<span class="dt">varname =</span> <span class="st">&quot;LAB_TSC&quot;</span>, <span class="dt">formula =</span> means[<span class="dv">1</span>], <span class="dt">variance =</span> vars[<span class="dv">1</span>], <span class="dt">dist =</span> <span class="st">&quot;normal&quot;</span>)</span>
<span id="cb28-2"><a href="generating-data-using-simstudy-methods.html#cb28-2"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span><span class="kw">length</span>(cont_vars)){</span>
<span id="cb28-3"><a href="generating-data-using-simstudy-methods.html#cb28-3"></a>  def &lt;-<span class="st"> </span><span class="kw">defData</span>(def, <span class="dt">varname =</span> cont_vars[i], <span class="dt">formula =</span> means[i], <span class="dt">variance =</span> vars[i], <span class="dt">dist =</span> <span class="st">&quot;normal&quot;</span>)</span>
<span id="cb28-4"><a href="generating-data-using-simstudy-methods.html#cb28-4"></a>}</span>
<span id="cb28-5"><a href="generating-data-using-simstudy-methods.html#cb28-5"></a></span>
<span id="cb28-6"><a href="generating-data-using-simstudy-methods.html#cb28-6"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(factor_vars)){</span>
<span id="cb28-7"><a href="generating-data-using-simstudy-methods.html#cb28-7"></a>  def &lt;-<span class="st"> </span><span class="kw">defData</span>(def, <span class="dt">varname =</span> factor_vars[i], <span class="dt">formula =</span> means[<span class="kw">length</span>(cont_vars)<span class="op">+</span>i], <span class="dt">dist =</span> <span class="st">&quot;binary&quot;</span>)</span>
<span id="cb28-8"><a href="generating-data-using-simstudy-methods.html#cb28-8"></a>}</span>
<span id="cb28-9"><a href="generating-data-using-simstudy-methods.html#cb28-9"></a></span>
<span id="cb28-10"><a href="generating-data-using-simstudy-methods.html#cb28-10"></a>dd &lt;-<span class="st"> </span><span class="kw">genCorFlex</span>(<span class="dv">10000</span>, def, <span class="dt">rho =</span> <span class="ot">NULL</span>, <span class="dt">tau =</span> <span class="ot">NULL</span>, <span class="dt">corMatrix =</span> corrs)</span>
<span id="cb28-11"><a href="generating-data-using-simstudy-methods.html#cb28-11"></a><span class="kw">head</span>(dd)</span></code></pre></div>
<pre><code>##    id  LAB_TSC LAB_TRIG  LAB_HDL LAB_GLUC_FASTING PM_BMI_CONTINUOUS DIS_CVA
## 1:  1 5.061832 1.764900 1.631207         4.229844          18.43103       0
## 2:  2 7.197848 1.792050 1.618762         4.802709          29.55680       0
## 3:  3 5.840460 4.049302 1.687452         5.016152          34.53278       0
## 4:  4 6.871120 1.988825 1.605039         4.044210          33.33789       0
## 5:  5 5.263524 2.142466 1.249333         5.481163          26.41777       0
## 6:  6 4.939404 0.240306 1.811101         2.680227          23.40127       0
##    DIS_DIAB DIS_AMI
## 1:        0       0
## 2:        0       0
## 3:        0       0
## 4:        0       0
## 5:        0       0
## 6:        0       0</code></pre>
<p>While it is most desirable to generate the data in this way, in some situations there might be a reason to generate variables without worrying about their correlation to the other variables. In this case standard <strong>simstudy</strong> functions could be used. For example, we might need an <em>AGE</em> variable and are not able to include it in the steps illustrated above. We could simply add this variable as follows:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="generating-data-using-simstudy-methods.html#cb30-1"></a>def2 &lt;-<span class="st"> </span><span class="kw">defData</span>(<span class="dt">varname =</span> <span class="st">&quot;AGE&quot;</span>, <span class="dt">formula =</span> <span class="dv">40</span>, <span class="dt">variance =</span> <span class="dv">10</span>, <span class="dt">dist =</span> <span class="st">&quot;normal&quot;</span>)</span>
<span id="cb30-2"><a href="generating-data-using-simstudy-methods.html#cb30-2"></a></span>
<span id="cb30-3"><a href="generating-data-using-simstudy-methods.html#cb30-3"></a>dd &lt;-<span class="st"> </span><span class="kw">addColumns</span>(def2, dd)</span>
<span id="cb30-4"><a href="generating-data-using-simstudy-methods.html#cb30-4"></a><span class="kw">head</span>(dd)</span></code></pre></div>
<pre><code>##    id  LAB_TSC LAB_TRIG  LAB_HDL LAB_GLUC_FASTING PM_BMI_CONTINUOUS DIS_CVA
## 1:  1 5.061832 1.764900 1.631207         4.229844          18.43103       0
## 2:  2 7.197848 1.792050 1.618762         4.802709          29.55680       0
## 3:  3 5.840460 4.049302 1.687452         5.016152          34.53278       0
## 4:  4 6.871120 1.988825 1.605039         4.044210          33.33789       0
## 5:  5 5.263524 2.142466 1.249333         5.481163          26.41777       0
## 6:  6 4.939404 0.240306 1.811101         2.680227          23.40127       0
##    DIS_DIAB DIS_AMI      AGE
## 1:        0       0 34.97744
## 2:        0       0 35.67096
## 3:        0       0 41.22921
## 4:        0       0 41.76373
## 5:        0       0 39.09275
## 6:        0       0 38.46279</code></pre>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="synthpop.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="harmonisation-with-synthetic-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["synthetic_bookdown.pdf", "synthetic_bookdown.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
